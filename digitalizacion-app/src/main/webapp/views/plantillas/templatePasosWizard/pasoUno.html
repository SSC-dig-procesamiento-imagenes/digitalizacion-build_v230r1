<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<title>Paso 1</title>
</head>

<body>

<div class="row" ng-controller="paso1Controller" >



		<form name="plantillaForm" novalidate>


			<div class="col-md-12">
			
				<div class="col-md-4">
					<fieldset class="scheduler-border">

						<legend class="scheduler-border">Datos generales
	
						</legend>
					<!--iNPUT DE  NOMBRE-->
					<div class="row">
					<div class="col-md-6" align="left">
						<div class="form-group"
							ng-class="{ 'has-error' : plantillaForm.nombre.$invalid && !plantillaForm.nombre.$pristine }">
							<div align="left">
								<label for="nombre">*Nombre:</label>
							</div>
							<div class="input-group">
								<span class="input-group-addon"> <i class="fa fa-shield"></i>
								</span> <input maxlength="50" type="text" ng-model="plantillaVO.nombre" name="nombre"
									id="nombre" class="form-control" required>
							</div>
							<p ng-show="plantillaForm.nombre.$invalid && !plantillaForm.nombre.$pristine"
								class="help-block">Nombre Requerido</p>
						</div>
					</div>

					<!--TERMINA iNPUT DE NOMBRE-->

									<div class="col-md-6">

										<div align="left"><label for="file">*Imagen:</label> </div>
					<input type="file" id="file-1" name="file" onload="onLoad" class="inputfile inputfile-1"  accept="image/*" onchange="handleFiles(this.files)">

					<label for="file-1" class="noneSelectedUsernoneSelectedUser btn btn-danger form-control">
						<span>{{file!=undefined?file.filename:'Seleccione imagen'}}
							&nbsp; &hellip;</span>
					</label>
					<div ng-show="imgBoleta==undefined">
						<span style="color:#dd4b39">
							Boleta Necesaria
						</span>
						</div>

				</div>
				</div>
					<!--iNPUT DE D FILAS-->
			<div class="row">
					<div class="col-md-6" align="left">
						<div class="form-group"
							ng-class="{ 'has-error' : plantillaForm.filas.$invalid && !plantillaForm.filas.$pristine || 		
							dataCrudStep.stepTwo.marcasBasePlantillas.validFilas===false,'has-success': dataCrudStep.stepTwo.marcasBasePlantillas.validFilas===true}">
							<div align="left">
								<label for="filas">*Filas:</label>
							</div>
							<div class="input-group">
								<span class="input-group-addon"> <i class="fa fa-shield"></i>
								</span> <input
									ng-change=""
									maxlength="50" type="number" ng-model="plantillaVO.filas" name="filas" id="filas"
									class="form-control" required>
							</div>
							<p ng-show="plantillaForm.filas.$invalid && !plantillaForm.filas.$pristine"
								class="help-block">Filas requeridas</p>
								
						</div>
					</div>

					<!--CIERRA INPUT DE FILAS-->

					<!--iNPUT DE D columnas-->

					<div class="col-md-6" align="left">
			
						<div class="form-group"
							ng-class="{ 'has-error' : plantillaForm.columnas.$invalid && !plantillaForm.columnas.$pristine ||
							 dataCrudStep.stepTwo.marcasBasePlantillas.validColumnas===false,'has-success':dataCrudStep.stepTwo.marcasBasePlantillas.validColumnas===true}">
							<div align="left">
								<label for="columnas">*Columnas:</label>
							</div>
							<div class="input-group">
								<span class="input-group-addon"> <i class="fa fa-shield"></i>
								</span> <input
									ng-change=""
									maxlength="50" type="number" ng-model="plantillaVO.columnas" name="columnas"
									id="columnas" class="form-control" required>
							</div>
							<p ng-show="plantillaForm.columnas.$invalid && !plantillaForm.columnas.$pristine"
								class="help-block">Columnas Requeridas</p>
						
						</div>
					</div>

					<!--CIERRA INPUT DE columnas-->
				</div>
			<!--MARCAS-->
				<!--  
					<div class="row">


						
							<div class="col-md-12" align="left">
								<div class="form-group">
									<div align="left">
										<label for="obs"> Observaciones:</label>
									</div>
									<div class="input-group">
										<span class="input-group-addon"> <i class="fa fa-user"></i>
										</span>
										<textarea rows="1" type="text" maxlength="100" ng-model="plantillaVO.txObservacion"
											name="observaciones" id="observaciones" capitalize class="form-control"> </textarea>
										<br>
									</div>
								</div>
							</div>
							
					</div>
				-->
		
<!--MARCAS-->

				</fieldset>
					<fieldset class="scheduler-border">
						<legend class="scheduler-border">Seleccionar Marca
						</legend>
					<div class="row">
						<!--SEparador-->
						<div class="col-md-6">
							<div class="form-group"
								ng-class="{ 'has-error' : plantillaForm.cdColor.$invalid && !plantillaForm.cdColor.$pristine }">
								<label><span
										class="asteriskReq">*</span>Color</label>
								<div class="input-group">
									<div class="input-group-addon">
										<i class="fa fa-thumb-tack"></i>
									</div>
									<input ng-change="onChange(plantillaVO.marcaVO.cdColor)" type="text"
										class="form-control" name="cdColor"
										id="cdColor" required color-picker
										color-picker-model="plantillaVO.marcaVO.cdColor"
										ng-model="plantillaVO.marcaVO.cdColor"
										ng-style="{background:plantillaVO.marcaVO.cdColor}"
										maxlength="30" />
								</div>
								<p ng-show="plantillaForm.cdColor.$invalid && !plantillaForm.cdColor.$pristine"
									class="help-block">El color es requerido</p>
					
							</div>
						</div>
						<!--separador-->
						<!--SEPARADOR-->
						<div class="col-md-6">
							<div class="form-group"
								ng-class="{ 'has-error' :flagCordenadas===''}">
								<label for="example1">*Area
									Seleccionada:</label><span
									class="glyphicon glyphicon-question-sign"
									data-toggle="tooltip" data-placement="top"
									title="{{txtMensaje}}"
									data-original-title=""></span>
								<div class="input-group">
									<div class="input-group-addon">
										<i class="fa fa-object-group"></i>
									</div>
									<input ng-disabled="true" class="form-control"
										ng-required="true" name="cordenadas"
										id="cordenadas" type="text"
										value="X:{{plantillaVO.marcaVO.x|number:0}},Y:{{plantillaVO.marcaVO.y|number:0}},W:{{plantillaVO.marcaVO.width}},H:{{plantillaVO.marcaVO.height}}">
									<div class="input-group-btn">
										<label class="btn btn-danger"
											ng-disabled="flagCordenadas===''";
											ng-click="removeTrazoBeforeAdd(plantillaVO.marcaVO)"
											uib-tooltip="Eliminar Trazo">
											<i class="fa fa-eraser"></i>
										</label>
									</div>
								</div>
								<div
									ng-show="flagCordenadas===''">
									<span style="color:#dd4b39">
										Cordenadas Necesarias
									</span>
								</div>
							</div>
						</div>
						<!--SEPARADOR-->
					</div>
					<div class="row">

						<div class="col-md-12">
								
									<div class="col-md-12 col-md-offset-4" >
										<button  id="validImagen" type="button" class="btn btn-primary btn-md pull-left ng-isolate-scope" ng-click="obtenerAreaTrabajo(plantillaVO)" tooltip="Validar Boleta" tooltip-placement="left" data-original-title="" title="">
										</span>Preprocesar Boleta    
										 </button>
										 </div>
									</div>
						</div>
				</fieldset>
			</div>
				<!--INICIA CANVAS-->


				<div class="col-md-8">

					<!--Area de Canvas-->


					<fieldset class="scheduler-border">

						<legend class="scheduler-border">Plantilla Seleccionada

						</legend>
						<div id="Contenedor" style="overflow: scroll ;max-height:400px; width:680px;">
							<div id="contenedorCanvas">

								<canvas id="canvas1" width="{{anchoBoleta}}" 
								height=" {{altoBoleta}}"
								style="background-image: url('{{imgBoleta}}'); background-size:{{anchoBoleta}}  {{altoBoleta}};">
								Tu navegador no soporta canvas 3
									
								</canvas>
							</div>

						</div>

<!-- 						<img id="idImagen" width="220" height="277" src="static/dist/img/excel.png" alt="The Scream"> -->
					
					</fieldset>


					<!--Area de canvas-->
				</div>
				<!--INICIA CANVAS-->

				<div class="row centerCol">
					<div class="col-xs-1">
						<div class="centerRow center">
							<button class="btn btn-danger" ng-click="saveStepOne(plantillaForm,plantillaVO)">
								<i class="fa fa-arrow-right"></i>
							</button>
						</div>
					</div>
				</div>

			</div>
		</form>
	</div>

</body>

</html>